= logout

[.signature]
[subs="normal"]
----
AppDelegate.reachfive().logout(<<webSessionLogout>> request: <<WebSessionLogoutRequest>>? = nil, <<revoke>> token: AuthToken? = nil) async throws
----

== Description

Terminates the main SSO session, all provider sessions, and optionally revokes user tokens or initiates a web-based logout.

* *Provider Sessions*: Logs out from all configured identity providers (e.g., Google, Facebook).
* *Web Session Logout*: When a `<<WebSessionLogoutRequest>>` is provided via the `webSessionLogout` parameter, triggers a web-based logout by opening a web authentication session to the server's logout endpoint (e.g., `/logout`). 
* *Token Revocation*: When an `AuthToken` is provided via the `revoke` parameter, revokes the specified token, invalidating the user's session.
This applies to both access and refresh tokens.
* *Main SSO Session*: Terminates the core SSO session.

Both `webSessionLogout` and `revoke` are optional and default to `nil`. 
If neither is provided, the method logs out from provider sessions and the main SSO session but does not revoke specific tokens or clear browser cookies.

.icon:apple[] Native vs icon:globe[] Web
****
icon:apple[] For native app flows, use `logout(revoke:)` with an `AuthToken` to revoke tokens and end the session.

icon:globe[] For web-based SSO flows, use `logout(webSessionLogout:)` to clear browser cookies and handle redirects.

For web-based logout, the app's scheme must be configured in the {cc}'s SSO settings as an *Allowed logout callback URL*. 
Failure to configure this will result in a “URI redirect not allowed” error.

*Example*: `reachfive-<CLIENT_ID>://callback`
****

== Examples

[source, swift]
----
include::example${docname}.swift[]
----

== Parameters

[.options]
[cols="1,3a"]
|===

include::partial$params.adoc[tags="webSessionLogout,revoke,WebSessionLogoutRequest"]

|===

== Response

*Error*: <<ReachFiveError>>

include::partial$models.adoc[tag=reachfiveerror]
